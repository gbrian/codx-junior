board: mentions
branch: ''
chat_index: 0
chat_links: []
check_lists: []
column: changes
column_id: ''
created_at: '2025-04-02 10:11:18.560454'
description: ''
doc_id: null
file_list: []
file_path: /shared/codx-junior/client/.codx/tasks/mentions/changes/changes-at-components-editprofile-vue-2025-04-02-10-40-24-653284.52fbe064-ad69-4628-b10f-b1f71c5b65a1.yaml
id: 52fbe064-ad69-4628-b10f-b1f71c5b65a1
kanban_id: ''
knowledge_topics: []
llm_model: ''
message_id: null
messages:
- content: "                      ```\n                      <script setup>\nimport\
    \ ExportImportButton from './ExportImportButton.vue';\nimport Markdown from './Markdown.vue'\n\
    </script>\n\n<template>\n  <div class=\"edit-profile px-4 max-w-2xl mx-auto flex\
    \ flex-col gap-2\">\n    <div class=\"text-xl flex items-center gap-2 font-bold\"\
    >\n      <button class=\"btn btn-sm\" @click=\"cancelEdit\">\n        <i class=\"\
    fa-solid fa-arrow-left\"></i>\n      </button>\n      Profile\n      <div class=\"\
    grow\"></div>\n      <button type=\"button\" class=\"btn btn-sm btn-primary\"\
    \ :class=\"loading && 'loading loading-spinner'\" @click=\"onSubmit\" :disabled=\"\
    !canSave\">Update</button>\n      <button type=\"button\" @click=\"onDeleteProfile\"\
    \ class=\"btn btn-sm btn-error\" :disabled=\"!isOverriden || loading\">Delete</button>\n\
    \      <ExportImportButton :data=\"editProfile\" @change=\"editProfile = $event\"\
    \ />\n    </div>\n    <div class=\"flex justify-center\">\n      <div class=\"\
    flex flex-col gpa-2 items-center\">\n        <div class=\"avatar\">\n        \
    \  <div class=\"w-24 rounded\">\n            <img :src=\"userAvatar\" />\n   \
    \       </div>\n        </div>\n        <input placeholder=\"Avatar\" v-model=\"\
    editProfile.avatar\" type=\"text\"\n          class=\"bg-base-300 input input-sm\
    \ input-bordered w-full\" />  \n      </div>\n    </div>\n    <div class=\"flex\
    \ justify-between items-center gap-4\">\n      <input id=\"name\" v-model=\"editProfile.name\"\
    \ type=\"text\" :class=\"nameTaken && 'text-error'\" class=\"bg-base-300 input\
    \ input-sm input-bordered w-full\" />\n      <select class=\"select select-bordered\
    \ select-sm\" v-model=\"editProfile.llm_model\">\n        <option value=\"\">--\
    \ default --</option>\n        <option v-for=\"model in aiModels\" :key=\"model.name\"\
    \ :value=\"model.name\">\n          {{ model.ai_provider }} - {{ model.name }}\n\
    \        </option>\n      </select>\n    </div>\n    <div class=\"form-group flex\
    \ space-x-4 text-xs\">\n      <div class=\"w-1/2 flex flex-col gap-2\">\n    \
    \    <label for=\"category\">Category</label>\n        <select v-model=\"editProfile.category\"\
    \ :disabled=\"profile.category\" \n            class=\"select select-xs select-bordered\"\
    >\n          <option value=\"project\">Project</option>\n          <option value=\"\
    assistant\">Assistant</option>\n          <option value=\"chat\">Chat</option>\n\
    \          <option value=\"file\">File</option>\n          <option value=\"agent\"\
    >Agent</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"\
    form-group\">\n      <label for=\"description\">Parent profiles</label>\n    \
    \  @codx-ok, please-wait...: profile can have multiple parent profiles \"editProfile.profiles\"\
    \ show them as div with badge class with an x awesome icon to remove. Add a select\
    \ with $projects.profiles list to add new profiles to the list  \n    </div>\n\
    \    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n\
    \      <textarea id=\"description\" v-model=\"editProfile.description\"\n    \
    \    class=\"bg-base-300 textarea textarea-bordered w-full\"></textarea>\n   \
    \ </div>\n\n    <div role=\"tablist\" class=\"tabs tabs-boxed\">\n      <div role=\"\
    tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'content' }\"\n        @click=\"\
    tab = 'content'\"\n      >\n        Content\n      </div>\n      <div role=\"\
    tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'settings' }\"\n        @click=\"\
    tab = 'settings'\"\n      >\n        Settings\n      </div>\n    </div>    \n\
    \    \n    <div class=\"form-group flex flex-col gap-4\" v-if=\"tab === 'settings'\"\
    >\n      <div class=\"flex gap-2 items-center\">\n        Expose in API\n    \
    \    <input type=\"checkbox\" v-model=\"editProfile.api_settings.active\"\n  \
    \        class=\"toggle checked:border-info checked:bg-info\" />\n      </div>\n\
    \      <div class=\"pl-4 flex flex-col gap-2\" v-if=\"editProfile.api_settings.active\"\
    >\n        <label for=\"modelName\">API Model Name</label>\n        <input :placeholder=\"\
    `default: ${$project.project_name}/${editProfile.name}`\"\n          v-model=\"\
    editProfile.api_settings.modelName\" type=\"text\" class=\"input input-sm input-bordered\
    \ bg-base-300\" />\n        <label for=\"modelDescription\">API Model Description</label>\n\
    \        <textarea v-model=\"editProfile.api_settings.modelDescription\" class=\"\
    textarea textarea-bordered bg-base-300\"></textarea>\n      </div>\n      <div\
    \ class=\"flex gap-2 items-center\">\n        Use knowledge\n        <input type=\"\
    checkbox\" v-model=\"editProfile.use_knowledge\"\n          class=\"toggle checked:border-info\
    \ checked:bg-info\" />\n      </div>\n      <div class=\"flex gap-2 items-center\"\
    >\n        Chat mode\n        <select v-model=\"editProfile.chat_mode\"\n    \
    \      class=\"select select-sm select-bordered\">\n          <option value=\"\
    task\">Task</option>\n          <option value=\"chat\">Chat</option>\n       \
    \   <option value=\"code\">Coding</option>\n          <option value=\"browser\"\
    >Browser</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"\
    flex flex-col gap-2\" v-if=\"tab === 'content'\">\n      <div class=\"flex justify-between\"\
    >\n        <label for=\"content flex gap-2\">Content\n          <button class=\"\
    btn btn-xs\" @click=\"toggleContentPreview\">\n            <i :class=\"contentPreview\
    \ ? 'fa-solid fa-pencil-alt' : 'fa-solid fa-eye'\"></i>\n          </button>\n\
    \        </label>\n      </div>\n      <Markdown class=\"p-2 rounded-md\" :class=\"\
    contentPreview ? 'bg-base-100 border border-slate-700' : 'bg-base-300'\" :text=\"\
    editProfile.content\" v-if=\"contentPreview\" />\n      <textarea id=\"content\"\
    \ v-model=\"editProfile.content\" class=\"textarea textarea-bordered w-full h-96\
    \ bg-base-300 overflow-auto\" v-else></textarea>\n    </div>\n    <modal v-if=\"\
    confirmDelete\">\n      <div class=\"text-2xl\">Confirm delete?</div>\n      <div\
    \ class=\"flex gap-2\">\n        <button type=\"button\" @click=\"confirmDelete\
    \ = false\" class=\"btn btn-sm\">Cancel</button>\n      </div>\n    </modal>\n\
    \  </div>\n</template>\n\n<script>\nexport default {\n  props: ['profile', 'allProfiles',\
    \ 'loading'],\n  data() {\n    return {\n      editProfile: { ...this.profile\
    \ },\n      confirmDelete: false,\n      contentPreview: true,\n      tab: 'content'\n\
    \    }\n  },\n  computed: {\n    userAvatar() {\n      return this.editProfile.avatar\
    \ ||\n        'https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp'\n\
    \    },\n    aiModels() {\n      return this.$storex.api.globalSettings?.ai_models\n\
    \                .filter(m => m.model_type === 'llm')\n                .sort((a,\
    \ b) => a.ai_provider > b.ai_provider ? 1 : -1)\n    },\n    isOverriden() {\n\
    \      return this.profile.path?.startsWith(this.$project.project_path)\n    },\n\
    \    nameTaken() {\n      const { name } = this.editProfile\n      const { name:\
    \ orgName } = this.profile\n      return name !== orgName && this.allProfiles.find(p\
    \ => p.name.toLowerCase() === name?.toLowerCase())\n    },\n    canSave() {\n\
    \      const { name, category } = this.editProfile\n      return name && category\
    \ && !this.nameTaken && this.isValidFileMatch\n    },\n    isValidFileMatch()\
    \ {\n      if (this.editProfile.category !== \"file\") {\n        return true\n\
    \      }\n      try {\n        new RegExp(this.editProfile.file_match)\n     \
    \   return true\n      } catch (e) {\n        return false\n      }\n    }\n \
    \ },\n  watch: {\n  },\n  methods: {\n    onSubmit() {\n      this.$emit('save',\
    \ this.editProfile)\n    },\n    cancelEdit() {\n      this.$emit('cancel')\n\
    \    },\n    deleteProfile() {\n      this.confirmDelete = true\n    },\n    onDeleteProfile()\
    \ {\n      this.confirmDelete = false\n      this.$emit('delete')\n    },\n  \
    \  toggleContentPreview() {\n      this.contentPreview = !this.contentPreview\n\
    \    },\n    downloadProfileContent() {\n      console.log('Download initiated\
    \ for:', this.editProfile.url)\n    }\n  }\n}\n</script>\n                   \
    \   ```\n                      \n                      User commented in line\
    \ 52: profile can have multiple parent profiles \"editProfile.profiles\" show\
    \ them as div with badge class with an x awesome icon to remove. Add a select\
    \ with $projects.profiles list to add new profiles to the list\n             \
    \         "
  created_at: '2025-04-02 10:11:18.558097'
  disable_knowledge: false
  doc_id: 0a774d4a-b5ea-43ed-a046-b9b565539a1b
  done: true
  files: []
  hide: false
  images: []
  improvement: false
  is_answer: false
  is_thinking: false
  knowledge_topics: []
  meta_data: {}
  profiles: []
  read_by: []
  role: user
  task_item: ''
  think: ''
  updated_at: '2025-04-02 10:11:18.558130'
  user: null
- content: "Best practices for this file:\n                  Project uses DaisyUI\
    \ for components, use them instead basic HTML elements\n# Vue vuejs coding best\
    \ pratices\nVue files must always follow this structure in this order.\nNo other\
    \ elements are valid:\n```example vue file\n<script setup>\nimport Component from\
    \ './component.vue'\nimport markdown from 'mardown'\n</script>\n<template>\n<div\
    \ class=\"w.full h-full flex gap-2\">\n</div>\n</template>\n<script>\nexport default\
    \ {\nprops: [].\ndata (){\n return { myVariable: null }\n},\ncomputed: {},\nwatch:\
    \ {},\nmethods: {}\n}\n</sctipt>\n```\n* export default component object\n* Use\
    \ component \"data\" method to return an object variables\n* Use component \"\
    computed\" to define computed properties\n\" Use component \"methods\" to define\
    \ component methods \n* \"script setup\" section contains ONLY imports, no variables,\
    \ properties bnor methods\n* Use TailwindCSS classes for styling, always consider\
    \ mobile styles\n* Vue component definition will be exporting a default object\
    \ like, without ref, nor computed imports\n* Don't use \";\" in the javascript\
    \ or typescript code\n* Avoid long functions\n* Add short and concise comments\
    \ for complex functions\n* Don't use <style> elements, use TailWindCSS classes\n\
    \                  "
  created_at: '2025-04-02 10:11:18.558097'
  disable_knowledge: false
  doc_id: ac1f1c5a-28ba-4725-bba0-7383cb1338fe
  done: true
  files: []
  hide: false
  images: []
  improvement: false
  is_answer: false
  is_thinking: false
  knowledge_topics: []
  meta_data: {}
  profiles:
  - daisyui_components
  - Vue files
  read_by: []
  role: user
  task_item: ''
  think: ''
  updated_at: '2025-04-02 10:11:18.558130'
  user: null
- content: "              Rewrite full file content replacing codx instructions with\
    \ the minimum changes as possible.\n              Return only the file content\
    \ without any further decoration or comments.\n              Do not surround response\
    \ with '```' marks, just content:\n              <script setup>\nimport ExportImportButton\
    \ from './ExportImportButton.vue';\nimport Markdown from './Markdown.vue'\n</script>\n\
    \n<template>\n  <div class=\"edit-profile px-4 max-w-2xl mx-auto flex flex-col\
    \ gap-2\">\n    <div class=\"text-xl flex items-center gap-2 font-bold\">\n  \
    \    <button class=\"btn btn-sm\" @click=\"cancelEdit\">\n        <i class=\"\
    fa-solid fa-arrow-left\"></i>\n      </button>\n      Profile\n      <div class=\"\
    grow\"></div>\n      <button type=\"button\" class=\"btn btn-sm btn-primary\"\
    \ :class=\"loading && 'loading loading-spinner'\" @click=\"onSubmit\" :disabled=\"\
    !canSave\">Update</button>\n      <button type=\"button\" @click=\"onDeleteProfile\"\
    \ class=\"btn btn-sm btn-error\" :disabled=\"!isOverriden || loading\">Delete</button>\n\
    \      <ExportImportButton :data=\"editProfile\" @change=\"editProfile = $event\"\
    \ />\n    </div>\n    <div class=\"flex justify-center\">\n      <div class=\"\
    flex flex-col gpa-2 items-center\">\n        <div class=\"avatar\">\n        \
    \  <div class=\"w-24 rounded\">\n            <img :src=\"userAvatar\" />\n   \
    \       </div>\n        </div>\n        <input placeholder=\"Avatar\" v-model=\"\
    editProfile.avatar\" type=\"text\"\n          class=\"bg-base-300 input input-sm\
    \ input-bordered w-full\" />  \n      </div>\n    </div>\n    <div class=\"flex\
    \ justify-between items-center gap-4\">\n      <input id=\"name\" v-model=\"editProfile.name\"\
    \ type=\"text\" :class=\"nameTaken && 'text-error'\" class=\"bg-base-300 input\
    \ input-sm input-bordered w-full\" />\n      <select class=\"select select-bordered\
    \ select-sm\" v-model=\"editProfile.llm_model\">\n        <option value=\"\">--\
    \ default --</option>\n        <option v-for=\"model in aiModels\" :key=\"model.name\"\
    \ :value=\"model.name\">\n          {{ model.ai_provider }} - {{ model.name }}\n\
    \        </option>\n      </select>\n    </div>\n    <div class=\"form-group flex\
    \ space-x-4 text-xs\">\n      <div class=\"w-1/2 flex flex-col gap-2\">\n    \
    \    <label for=\"category\">Category</label>\n        <select v-model=\"editProfile.category\"\
    \ :disabled=\"profile.category\" \n            class=\"select select-xs select-bordered\"\
    >\n          <option value=\"project\">Project</option>\n          <option value=\"\
    assistant\">Assistant</option>\n          <option value=\"chat\">Chat</option>\n\
    \          <option value=\"file\">File</option>\n          <option value=\"agent\"\
    >Agent</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"\
    form-group\">\n      <label for=\"description\">Parent profiles</label>\n    \
    \  @codx-ok, please-wait...: profile can have multiple parent profiles \"editProfile.profiles\"\
    \ show them as div with badge class with an x awesome icon to remove. Add a select\
    \ with $projects.profiles list to add new profiles to the list  \n    </div>\n\
    \    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n\
    \      <textarea id=\"description\" v-model=\"editProfile.description\"\n    \
    \    class=\"bg-base-300 textarea textarea-bordered w-full\"></textarea>\n   \
    \ </div>\n\n    <div role=\"tablist\" class=\"tabs tabs-boxed\">\n      <div role=\"\
    tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'content' }\"\n        @click=\"\
    tab = 'content'\"\n      >\n        Content\n      </div>\n      <div role=\"\
    tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'settings' }\"\n        @click=\"\
    tab = 'settings'\"\n      >\n        Settings\n      </div>\n    </div>    \n\
    \    \n    <div class=\"form-group flex flex-col gap-4\" v-if=\"tab === 'settings'\"\
    >\n      <div class=\"flex gap-2 items-center\">\n        Expose in API\n    \
    \    <input type=\"checkbox\" v-model=\"editProfile.api_settings.active\"\n  \
    \        class=\"toggle checked:border-info checked:bg-info\" />\n      </div>\n\
    \      <div class=\"pl-4 flex flex-col gap-2\" v-if=\"editProfile.api_settings.active\"\
    >\n        <label for=\"modelName\">API Model Name</label>\n        <input :placeholder=\"\
    `default: ${$project.project_name}/${editProfile.name}`\"\n          v-model=\"\
    editProfile.api_settings.modelName\" type=\"text\" class=\"input input-sm input-bordered\
    \ bg-base-300\" />\n        <label for=\"modelDescription\">API Model Description</label>\n\
    \        <textarea v-model=\"editProfile.api_settings.modelDescription\" class=\"\
    textarea textarea-bordered bg-base-300\"></textarea>\n      </div>\n      <div\
    \ class=\"flex gap-2 items-center\">\n        Use knowledge\n        <input type=\"\
    checkbox\" v-model=\"editProfile.use_knowledge\"\n          class=\"toggle checked:border-info\
    \ checked:bg-info\" />\n      </div>\n      <div class=\"flex gap-2 items-center\"\
    >\n        Chat mode\n        <select v-model=\"editProfile.chat_mode\"\n    \
    \      class=\"select select-sm select-bordered\">\n          <option value=\"\
    task\">Task</option>\n          <option value=\"chat\">Chat</option>\n       \
    \   <option value=\"code\">Coding</option>\n          <option value=\"browser\"\
    >Browser</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"\
    flex flex-col gap-2\" v-if=\"tab === 'content'\">\n      <div class=\"flex justify-between\"\
    >\n        <label for=\"content flex gap-2\">Content\n          <button class=\"\
    btn btn-xs\" @click=\"toggleContentPreview\">\n            <i :class=\"contentPreview\
    \ ? 'fa-solid fa-pencil-alt' : 'fa-solid fa-eye'\"></i>\n          </button>\n\
    \        </label>\n      </div>\n      <Markdown class=\"p-2 rounded-md\" :class=\"\
    contentPreview ? 'bg-base-100 border border-slate-700' : 'bg-base-300'\" :text=\"\
    editProfile.content\" v-if=\"contentPreview\" />\n      <textarea id=\"content\"\
    \ v-model=\"editProfile.content\" class=\"textarea textarea-bordered w-full h-96\
    \ bg-base-300 overflow-auto\" v-else></textarea>\n    </div>\n    <modal v-if=\"\
    confirmDelete\">\n      <div class=\"text-2xl\">Confirm delete?</div>\n      <div\
    \ class=\"flex gap-2\">\n        <button type=\"button\" @click=\"confirmDelete\
    \ = false\" class=\"btn btn-sm\">Cancel</button>\n      </div>\n    </modal>\n\
    \  </div>\n</template>\n\n<script>\nexport default {\n  props: ['profile', 'allProfiles',\
    \ 'loading'],\n  data() {\n    return {\n      editProfile: { ...this.profile\
    \ },\n      confirmDelete: false,\n      contentPreview: true,\n      tab: 'content'\n\
    \    }\n  },\n  computed: {\n    userAvatar() {\n      return this.editProfile.avatar\
    \ ||\n        'https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp'\n\
    \    },\n    aiModels() {\n      return this.$storex.api.globalSettings?.ai_models\n\
    \                .filter(m => m.model_type === 'llm')\n                .sort((a,\
    \ b) => a.ai_provider > b.ai_provider ? 1 : -1)\n    },\n    isOverriden() {\n\
    \      return this.profile.path?.startsWith(this.$project.project_path)\n    },\n\
    \    nameTaken() {\n      const { name } = this.editProfile\n      const { name:\
    \ orgName } = this.profile\n      return name !== orgName && this.allProfiles.find(p\
    \ => p.name.toLowerCase() === name?.toLowerCase())\n    },\n    canSave() {\n\
    \      const { name, category } = this.editProfile\n      return name && category\
    \ && !this.nameTaken && this.isValidFileMatch\n    },\n    isValidFileMatch()\
    \ {\n      if (this.editProfile.category !== \"file\") {\n        return true\n\
    \      }\n      try {\n        new RegExp(this.editProfile.file_match)\n     \
    \   return true\n      } catch (e) {\n        return false\n      }\n    }\n \
    \ },\n  watch: {\n  },\n  methods: {\n    onSubmit() {\n      this.$emit('save',\
    \ this.editProfile)\n    },\n    cancelEdit() {\n      this.$emit('cancel')\n\
    \    },\n    deleteProfile() {\n      this.confirmDelete = true\n    },\n    onDeleteProfile()\
    \ {\n      this.confirmDelete = false\n      this.$emit('delete')\n    },\n  \
    \  toggleContentPreview() {\n      this.contentPreview = !this.contentPreview\n\
    \    },\n    downloadProfileContent() {\n      console.log('Download initiated\
    \ for:', this.editProfile.url)\n    }\n  }\n}\n</script>\n              "
  created_at: '2025-04-02 10:11:18.558097'
  disable_knowledge: false
  doc_id: b172f1c7-a666-4aee-aa2a-173a158b92d3
  done: true
  files: []
  hide: false
  images: []
  improvement: false
  is_answer: false
  is_thinking: false
  knowledge_topics: []
  meta_data: {}
  profiles: []
  read_by: []
  role: user
  task_item: ''
  think: ''
  updated_at: '2025-04-02 10:11:18.558130'
  user: null
- content: "<script setup>\nimport ExportImportButton from './ExportImportButton.vue';\n\
    import Markdown from './Markdown.vue';\n</script>\n\n<template>\n  <div class=\"\
    edit-profile px-4 max-w-2xl mx-auto flex flex-col gap-2\">\n    <div class=\"\
    text-xl flex items-center gap-2 font-bold\">\n      <button class=\"btn btn-sm\"\
    \ @click=\"cancelEdit\">\n        <i class=\"fa-solid fa-arrow-left\"></i>\n \
    \     </button>\n      Profile\n      <div class=\"grow\"></div>\n      <button\
    \ type=\"button\" class=\"btn btn-sm btn-primary\" :class=\"loading && 'loading\
    \ loading-spinner'\" @click=\"onSubmit\" :disabled=\"!canSave\">Update</button>\n\
    \      <button type=\"button\" @click=\"onDeleteProfile\" class=\"btn btn-sm btn-error\"\
    \ :disabled=\"!isOverriden || loading\">Delete</button>\n      <ExportImportButton\
    \ :data=\"editProfile\" @change=\"editProfile = $event\" />\n    </div>\n    <div\
    \ class=\"flex justify-center\">\n      <div class=\"flex flex-col gpa-2 items-center\"\
    >\n        <div class=\"avatar\">\n          <div class=\"w-24 rounded\">\n  \
    \          <img :src=\"userAvatar\" />\n          </div>\n        </div>\n   \
    \     <input placeholder=\"Avatar\" v-model=\"editProfile.avatar\" type=\"text\"\
    \ class=\"bg-base-300 input input-sm input-bordered w-full\" />\n      </div>\n\
    \    </div>\n    <div class=\"flex justify-between items-center gap-4\">\n   \
    \   <input id=\"name\" v-model=\"editProfile.name\" type=\"text\" :class=\"nameTaken\
    \ && 'text-error'\" class=\"bg-base-300 input input-sm input-bordered w-full\"\
    \ />\n      <select class=\"select select-bordered select-sm\" v-model=\"editProfile.llm_model\"\
    >\n        <option value=\"\">-- default --</option>\n        <option v-for=\"\
    model in aiModels\" :key=\"model.name\" :value=\"model.name\">\n          {{ model.ai_provider\
    \ }} - {{ model.name }}\n        </option>\n      </select>\n    </div>\n    <div\
    \ class=\"form-group flex space-x-4 text-xs\">\n      <div class=\"w-1/2 flex\
    \ flex-col gap-2\">\n        <label for=\"category\">Category</label>\n      \
    \  <select v-model=\"editProfile.category\" :disabled=\"profile.category\" class=\"\
    select select-xs select-bordered\">\n          <option value=\"project\">Project</option>\n\
    \          <option value=\"assistant\">Assistant</option>\n          <option value=\"\
    chat\">Chat</option>\n          <option value=\"file\">File</option>\n       \
    \   <option value=\"agent\">Agent</option>\n        </select>\n      </div>\n\
    \    </div>\n    <div class=\"form-group\">\n      <label for=\"description\"\
    >Parent profiles</label>\n      <div class=\"flex flex-wrap gap-2\">\n       \
    \ <div v-for=\"profile in editProfile.profiles\" :key=\"profile.id\" class=\"\
    badge\">\n          {{ profile.name }} <button @click=\"removeProfile(profile)\"\
    \ class=\"fa fa-times\"></button>\n        </div>\n      </div>\n      <select\
    \ v-model=\"newProfile\" @change=\"addProfile\" class=\"select select-xs select-bordered\"\
    >\n        <option value=\"\">Add a profile</option>\n        <option v-for=\"\
    profile in $projects.profiles\" :key=\"profile.id\" :value=\"profile\">{{ profile.name\
    \ }}</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n \
    \     <label for=\"description\">Description</label>\n      <textarea id=\"description\"\
    \ v-model=\"editProfile.description\" class=\"bg-base-300 textarea textarea-bordered\
    \ w-full\"></textarea>\n    </div>\n\n    <div role=\"tablist\" class=\"tabs tabs-boxed\"\
    >\n      <div role=\"tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'content'\
    \ }\" @click=\"tab = 'content'\">\n        Content\n      </div>\n      <div role=\"\
    tab\" class=\"tab\" :class=\"{ 'tab-active': tab === 'settings' }\" @click=\"\
    tab = 'settings'\">\n        Settings\n      </div>\n    </div>\n\n    <div class=\"\
    form-group flex flex-col gap-4\" v-if=\"tab === 'settings'\">\n      <div class=\"\
    flex gap-2 items-center\">\n        Expose in API\n        <input type=\"checkbox\"\
    \ v-model=\"editProfile.api_settings.active\" class=\"toggle checked:border-info\
    \ checked:bg-info\" />\n      </div>\n      <div class=\"pl-4 flex flex-col gap-2\"\
    \ v-if=\"editProfile.api_settings.active\">\n        <label for=\"modelName\"\
    >API Model Name</label>\n        <input :placeholder=\"`default: ${$project.project_name}/${editProfile.name}`\"\
    \ v-model=\"editProfile.api_settings.modelName\" type=\"text\" class=\"input input-sm\
    \ input-bordered bg-base-300\" />\n        <label for=\"modelDescription\">API\
    \ Model Description</label>\n        <textarea v-model=\"editProfile.api_settings.modelDescription\"\
    \ class=\"textarea textarea-bordered bg-base-300\"></textarea>\n      </div>\n\
    \      <div class=\"flex gap-2 items-center\">\n        Use knowledge\n      \
    \  <input type=\"checkbox\" v-model=\"editProfile.use_knowledge\" class=\"toggle\
    \ checked:border-info checked:bg-info\" />\n      </div>\n      <div class=\"\
    flex gap-2 items-center\">\n        Chat mode\n        <select v-model=\"editProfile.chat_mode\"\
    \ class=\"select select-sm select-bordered\">\n          <option value=\"task\"\
    >Task</option>\n          <option value=\"chat\">Chat</option>\n          <option\
    \ value=\"code\">Coding</option>\n          <option value=\"browser\">Browser</option>\n\
    \        </select>\n      </div>\n    </div>\n    <div class=\"flex flex-col gap-2\"\
    \ v-if=\"tab === 'content'\">\n      <div class=\"flex justify-between\">\n  \
    \      <label for=\"content\" class=\"flex gap-2\">Content\n          <button\
    \ class=\"btn btn-xs\" @click=\"toggleContentPreview\">\n            <i :class=\"\
    contentPreview ? 'fa-solid fa-pencil-alt' : 'fa-solid fa-eye'\"></i>\n       \
    \   </button>\n        </label>\n      </div>\n      <Markdown class=\"p-2 rounded-md\"\
    \ :class=\"contentPreview ? 'bg-base-100 border border-slate-700' : 'bg-base-300'\"\
    \ :text=\"editProfile.content\" v-if=\"contentPreview\" />\n      <textarea id=\"\
    content\" v-model=\"editProfile.content\" class=\"textarea textarea-bordered w-full\
    \ h-96 bg-base-300 overflow-auto\" v-else></textarea>\n    </div>\n    <modal\
    \ v-if=\"confirmDelete\">\n      <div class=\"text-2xl\">Confirm delete?</div>\n\
    \      <div class=\"flex gap-2\">\n        <button type=\"button\" @click=\"confirmDelete\
    \ = false\" class=\"btn btn-sm\">Cancel</button>\n      </div>\n    </modal>\n\
    \  </div>\n</template>\n\n<script>\nexport default {\n  props: ['profile', 'allProfiles',\
    \ 'loading'],\n  data() {\n    return {\n      editProfile: { ...this.profile\
    \ },\n      confirmDelete: false,\n      contentPreview: true,\n      tab: 'content',\n\
    \      newProfile: ''\n    }\n  },\n  computed: {\n    userAvatar() {\n      return\
    \ this.editProfile.avatar ||\n        'https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp'\n\
    \    },\n    aiModels() {\n      return this.$storex.api.globalSettings?.ai_models\n\
    \                .filter(m => m.model_type === 'llm')\n                .sort((a,\
    \ b) => a.ai_provider > b.ai_provider ? 1 : -1)\n    },\n    isOverriden() {\n\
    \      return this.profile.path?.startsWith(this.$project.project_path)\n    },\n\
    \    nameTaken() {\n      const { name } = this.editProfile\n      const { name:\
    \ orgName } = this.profile\n      return name !== orgName && this.allProfiles.find(p\
    \ => p.name.toLowerCase() === name?.toLowerCase())\n    },\n    canSave() {\n\
    \      const { name, category } = this.editProfile\n      return name && category\
    \ && !this.nameTaken && this.isValidFileMatch\n    },\n    isValidFileMatch()\
    \ {\n      if (this.editProfile.category !== \"file\") {\n        return true\n\
    \      }\n      try {\n        new RegExp(this.editProfile.file_match)\n     \
    \   return true\n      } catch (e) {\n        return false\n      }\n    }\n \
    \ },\n  methods: {\n    onSubmit() {\n      this.$emit('save', this.editProfile)\n\
    \    },\n    cancelEdit() {\n      this.$emit('cancel')\n    },\n    deleteProfile()\
    \ {\n      this.confirmDelete = true\n    },\n    onDeleteProfile() {\n      this.confirmDelete\
    \ = false\n      this.$emit('delete')\n    },\n    toggleContentPreview() {\n\
    \      this.contentPreview = !this.contentPreview\n    },\n    downloadProfileContent()\
    \ {\n      console.log('Download initiated for:', this.editProfile.url)\n    },\n\
    \    addProfile() {\n      if (this.newProfile && !this.editProfile.profiles.includes(this.newProfile))\
    \ {\n        this.editProfile.profiles.push(this.newProfile)\n        this.newProfile\
    \ = ''\n      }\n    },\n    removeProfile(profile) {\n      this.editProfile.profiles\
    \ = this.editProfile.profiles.filter(p => p !== profile)\n    }\n  }\n}\n</script>"
  created_at: '2025-04-02 10:11:18.558097'
  disable_knowledge: false
  doc_id: d38fbf1e-4519-4424-a5b7-1396aed0cef5
  done: true
  files: []
  hide: false
  images: []
  improvement: false
  is_answer: false
  is_thinking: false
  knowledge_topics: []
  meta_data:
    first_chunk_time_taken: 39.15708351135254
    model: gpt-4o
    time_taken: 60.50300073623657
  profiles: []
  read_by: []
  role: assistant
  task_item: ''
  think: ''
  updated_at: '2025-04-02 10:11:18.558130'
  user: null
mode: chat
name: changes-at-components-editprofile-vue-2025-04-02-10-40-24-653284
parent_id: null
pinned: false
pr_view: {}
profiles: []
project_id: null
remote_url: ''
status: ''
tags:
- skip_knowledge
updated_at: '2025-04-02T10:41:25.157302'
url: ''
users: []
visibility: ''
